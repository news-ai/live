<!doctype html>
<html>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    $(function() {
        var socket = io();

        // Connect to socket
        socket.on('connect', function() {
            var authDetails = {
                'userId': '5749563331706880',
                'authToken': '5749563331706880p6wfZFx7uV5PY9o43DGeLM-0qQBvm5saOMTDn23Ghrs=',
                'teamId': '5178017471004672',
                'page': 'https://tabulae.newsai.co/'
            };
            socket.emit('auth', authDetails);
        });

        // Get messages coming from socket
        socket.on('message', function(msg) {
            if (msg.type === 'auth') {
                // Could not connect to socket
                if (msg.status === 'failure') {
                    console.log('Failed to authenticate');
                } else {
                    // Fake page change
                    var fakePageChange = {
                        'resourceName': 'page',
                        'page': 'https://tabulae.newsai.co/tables/5326642465472512',
                        'userId': '5749563331706880',
                        'teamId': '5178017471004672'
                    };
                    socket.emit('change', fakePageChange);

                    // Fake contact change

                    // Fake list change
                }
            } else {
                // Messages that come in when other things are changing
                console.log(msg);
            }
        });

        // On disconnect events
        socket.on('disconnect', function() {
            // Re-authenticate
            console.log('disconnected:', socket.connected);
        });
    });
</script>

</html>